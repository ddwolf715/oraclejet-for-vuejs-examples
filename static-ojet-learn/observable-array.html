<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>OJET Learn</title>

    <!-- Ensure to update path prefix based on this html file location! -->
    <link rel="stylesheet" href="../web/css/alta/8.1.0/web/alta.css" />
    <script type="text/javascript" src="../web/js/libs/require/require.js"></script>
    <script type="text/javascript" src="../web/js/main.js"></script>
    <script>requirejs.config({ baseUrl: '../web/js' });</script>
</head>
<body>

    <div id="app">
        <ul data-bind="foreach: list">
            <li data-bind="text: $data"></li>
        </ul>
    </div>

    <script>
        /**
         * Try in Console:
         *
         * // Adding to list
         * app.list.push("Three");
         *
         * // Changing entire array
         * app.list([1, 2, 3]);
         *
         * // Modifying array outside of observable
         * app.list()[1] = 'two';
         * app.list.valueHasMutated();
         *
         * // Replace item
         * app.list.replace(3, 'three');
         */
        require(['knockout', 'ojs/ojbootstrap', 'ojs/ojknockout'],
            function (ko, Bootstrap) {
                function AppViewModel() {
                    this.list = ko.observableArray(['one', 'two']);
                }

                Bootstrap.whenDocumentReady().then(() => {
                    let app = new AppViewModel();
                    window.app = app;
                    ko.applyBindings(app, document.getElementById("app"))
                });
            }
        );
    </script>

</body>
</html>
